<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>조건문</title>
  </head>
  <body>
    <h1>JS 조건문</h1>
    <h2>개요</h2>
    <p>특정 조건에 대한 만족여부에 따라 실행할 코드를 결정하는 기능</p>
    <p>자바스크립트는 2가지의 조건문 제공 - if, switch</p>
    <h2>코드블록</h2>
    <p>0개 이상의 명령문을 중괄호{}로 묶은것</p>
    <p>
      블럭은 단독으로 사용할 수 있으나, 일반적으로 제어문이나 함수/객체 선언시
      주로 사용
    </p>
    <script>
      document.write(`<b>Hello code block!!</b>`);
    </script>

    <h2>if문</h2>
    <p>조건을 만족할때만 지정한 코드블록을 실행함</p>
    <p>if (조건식) {</p>
    <p>참일때 실행할 명령어(들)</p>
    <p>}</p>
    <script>
      // 평균 점수가 60점 이상이면, '시험 합격!!'을 출력
      let avg = 68.5;
      if (avg >= 60) {
        document.write(`${avg}, - 시험 합격!!<br>`);
      }
    </script>
    <script>
      // 짝수, 홀수 여부 출력
      let num = Number(prompt("숫자를 입력하세요."));
      let result = `${num} - 홀수 입니다.`;
      if (num % 2 === 0) {
        result = `${num}은/는 짝수 입니다.`;
      }
      console.log(result);
      // 오전, 오후 구분하여 출력
      let time = "09:53:12";
      let timeHour = Number(time[0] + time[1]);
      result = "오후입니다.";
      if (timeHour < 12) {
        result = "오전입니다.";
      }
      console.log(result);
    </script>
    <h2>if ~ else 문</h2>
    <p>
      조건을 만족하지 않으면 if 아래의 코드블록을 실행하고, 만족하지 않을 경우
      else 아래의 코드블록을 실행
    </p>
    <p>조건을 만족할때만 지정한 코드블록을 실행함</p>
    <p>if (조건식) {</p>
    <p>참일때 실행할 명령어(들)</p>
    <p>} else {</p>
    <p>거짓일 때 실행할 명령어(들)</p>
    <p>}</p>
    <script>
      // 평균 점수가 60점 이상이면, '시험 합격!!'을 출력
      avg = 59.5;
      if (avg >= 60) {
        document.write(`${avg}, - 시험 합격!!<br>`);
      } else {
        document.write(`${avg}, - 시험 불합격ㅜㅜ<br>`);
      }
    </script>
    <script>
      // 특정 년도의 윤년여부를 출력
      // 조건 1: 서력 기원 연수가 4로 나누어 떨어지는 해는 윤년으로 한다. (1988년, 1992년, 1996년)
      // 조건 2:서력 기원 연수가 4, 100으로 나누어 떨어지는 해는 평년으로 한다. (1700년, 1800년, 1900년, 2100년, 2200년, 2300년...)
      // 조건 3:서력 기원 연수가 4, 100, 400으로 나누어 떨어지는 해는 윤년으로 둔다. (1600년, 2000년, 2400년...)
      // 조건 윤년 : 연수가 4로 나누어 떨어지면서 100으로 나누어 떨어지지 않거나 400으로 나누어 떨어지면 윤년이다.
      let year = 1800;
      if ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0) {
        console.log(`${year} - 윤년입니다.`);
      } else {
        console.log(`${year} - 평년입니다.`);
      }
    </script>
    <script>
      // 아이디와 비밀번호를 이용해서 로그인 기능 구현하기
      let Uid = "admin";
      let Pwd = "12345";
      let userId = prompt("아이디?");
      let userPw = prompt("비밀번호?");
      if (Uid == userId && Pwd == userPw) {
        console.log(`회원인증에 성공했습니다.`);
      } else {
        console.log(`회원인증에 실패했습니다.`);
      }
    </script>
    <script>
      // 아이디와 비밀번호를 이용해서 로그인 기능 구현하기
      Uid = "xyz";
      Pwd = "123";
      userId = "abc";
      userPw = "456";
      result = "회원인증에 실패했습니다.";
      if (Uid == userId && Pwd == userPw) {
        result = `회원인증에 성공했습니다.`;
      }
      console.log(result);
    </script>
    <h2>중첩 조건문</h2>
    <p>if나 else 안에 또 다른 조건문을 포함한 조건문을 의미</p>
    <p>단점은 코드 가독성이 떨어지므로 사용을 자제하는 것이 좋음</p>
    <script>
      // 특정 년도의 윤년여부를 출력
      // 조건 1: 서력 기원 연수가 4로 나누어 떨어지는 해는 윤년으로 한다. (1988년, 1992년, 1996년)
      // 조건 2:서력 기원 연수가 4, 100으로 나누어 떨어지는 해는 평년으로 한다. (1700년, 1800년, 1900년, 2100년, 2200년, 2300년...)
      // 조건 3:서력 기원 연수가 400으로 나누어 떨어지는 해는 윤년으로 둔다. (1600년, 2000년, 2400년...)
      // 조건 윤년 : 연수가 4로 나누어 떨어지면서 100으로 나누어 떨어지지 않거나 400으로 나누어 떨어지면 윤년이다.
      year = 1600;
      if (year % 4 == 0) {
        if (year % 100 == 0) {
          if (year % 400 == 0) {
            console.log(`윤년입니다.`);
          } else {
            console.log(`평년입니다.`);
          }
        } else {
          console.log(`윤년입니다.`);
        }
      } else {
        console.log(`평년입니다.`);
      }
      // 조건의 서술이 틀렸음.
      result = `- 평년입니다.`;
      if (year % 4 == 0) {
        if (year % 100 == 0) {
          result = `- 평년입니다.`;
        } else {
          result = `- 윤년입니다.`;
        }
      } else {
        if (year % 400 == 0) {
          result = `- 윤년입니다.`;
        } else {
          result = `- 평년입니다.`;
        }
      }
      console.log(result);
      // else안에 if를 넣어본다면.
      if (year % 4 == 0) {
        if (year % 100 != 0) {
          console.log(`평년입니다.`);
        } else {
          if (year % 400 == 0) {
            console.log(`윤년입니다.`);
          } else {
            console.log(`평년입니다.`);
          }
        }
      } else {
        console.log(`평년입니다.`);
      }
    </script>
    <h2>다중 조건문</h2>
    <p>
      다중 조건에 대한 만족여부에 따라 코드블록을 실행하려면 if ~ else 뒤에 if ~
      else 문을 더 추가함
    </p>
    <script>
      // 평균 점수에 따라 '수 우 미 양 가'로 성적 결과 출력.
      avg = 98.1;
      result = "가";
      if (avg >= 90) {
        result = "수";
      } else if (avg >= 80) {
        result = "우";
      } else if (avg >= 70) {
        result = "미";
      } else if (avg >= 60) {
        result = "양";
      }
      console.log(result);
    </script>
    <script>
      // 버스 기본요금 부과하기 - 나이를 입력받음
      // 미취학 아동 (~7세) : 0원
      // 어린이 (8~13) : 450원
      // 청소년 (14~19) : 720원
      // 일반 (20~) : 1200원
      // 노인 (70~) : 0원
      let age = Number(prompt("나이를 입력하세요."));
      result = "0원";
      if (age < 70 && age >= 20) {
        result = "1200원";
      } else if (age < 20 && age >= 14) {
        result = "720원";
      } else if (age < 14 && age >= 8) {
        result = "450원";
      } else if (age < 8) {
        result = "0원";
      }
      console.log(`${age}세 - 요금은 ${result} 입니다.`);
      if (age >= 70) {
        result = "0원";
      } else if (age >= 20) {
        result = "1200원";
      } else if (age >= 14) {
        result = "720원";
      } else if (age >= 8) {
        result = "450원";
      }
      console.log(`${age}세 - 요금은 ${result} 입니다.`);
    </script>
    <h2>조건식을 거짓으로 취급하는 값들</h2>
    <p>
      false, 0, undefined, null, NaN, 빈 문자열등은 조건식에서 참이 아닌
      거짓으로 취급
    </p>
    <script>
      result = "거짓입니다 <br>";
      if (undefined) {
        result = "참입니다. <br>";
      } else if (null) {
        result = "참입니다. <br>";
      } else if (false) {
        result = "참입니다. <br>";
      } else if (0) {
        result = "참입니다. <br>";
      } else if (NaN) {
        result = "참입니다. <br>";
      } else if ("") {
        result = "참입니다. <br>";
      }
      document.write(result);
    </script>
    <p>다중 조건 if문을 가독성 있게 작성한 조건문</p>
    <p>
      switch의 표현식을 평가하여 그 값의 일치여부에 따라 case문 아래의 코드
      블럭을 실행하는 구조
    </p>
    <p>
      표현식의 평가값과 일치하는 case가 없는 경우 default문의 코드블럭을 실행함
    </p>
    <p>
      단, 표현식의 평가값과 일치하는 case문이 실행되더라도 break문이 없으면,
      switch문이 중단되지 않고 나머지 case문을 실행하게 됨 - full through
    </p>

    <p>
      javascript 한정으로 switch의 case문에 비교 연산자를 이용한 범위를 검사하는
      코드를 작성할 수도 있음
      (https://stackoverflow.com/questions/5619832/switch-on-ranges-of-integers-in-javascript)
    </p>

    <h2>if vs switch</h2>
    <p>if문의 경우 조건식 검사는 위에서 아래로 순차적으로 진행됨</p>
    <p>
      운이 나빠서, 만족하는 조건식이 맨 아래에 있다면 위의 조건식 모두를 비교한
      뒤에야 비로소 도달하게 됨
    </p>
    <p>
      하지만, switch문은 평가식의 결과값을 판단하고, 해당하는 case절로 바로
      찾아가기 때문에 if문보다 효율이 좋음
    </p>
  </body>
</html>
